<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Cargando...</title>
    <style>
      body { margin: 0; padding: 0; overflow: hidden; }
    </style>
</head>

<body>
    <div id="app"></div>
    <script id="database" type="application/json">
  #JSON_DATABASE
    </script>

    <script>
        function initApp() {
            loadPageConfig(document.getElementById('database').textContent);
        }

        function handleFallback(error) {
            console.warn("Cargando layout.js desde el backup...");
            let s = document.createElement('script');
            s.src = 'https://ccarmox.github.io/sandbox3/ui/game.js';
            // Solo ejecutamos la config cuando el backup termine de cargar
            s.onload = initApp;
            document.head.appendChild(s);
        }
    </script>

    <script src="../../../ui/game.js" onload="initApp()" onerror="handleFallback()">
    </script>
</body>

</html>